N = n()                     # Number of observations
)
ChickWeight %>%           # Start with the ChickWeight data
weight.mean = mean(weight) # Mean weight
library(dplyr)
ChickWeight %>%           # Start with the ChickWeight data
mutate(
weight_d_time = weight / Time
) %>% head()
# Give me a random sample of 10 rows
ChickWeight %>% select(Chick, weight) %>%
sample_n(10)
time_agg <- ChickWeight %>%
group_by(Time) %>%
summarise(
weight.mean = mean(weight)
)
time_agg
time_agg <- ChickWeight %>%
group_by(Time) %>%
summarise(
weight.mean = mean(weight)
)
time_agg
time_agg <- ChickWeight %>%
group_by(Time) %>%
summarise(
weight.mean = mean(weight)
)
time_agg
ggplot(time_agg, aes(weight.mean)) + geom_bar()
library(ggplot2)
ggplot(time_agg, aes(weight.mean)) + geom_bar()
ggplot(time_agg, aes(Time, weight.mean)) + geom_bar()
ggplot(time_agg, aes(Time, weight.mean)) + geom_bar(stat = "identity")
library(ggplot2)
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_bar(stat = "identity")
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_bar(stat = "identity", color = "blue")
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_bar(stat = "identity", color = "blue", fill = "blue")
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_bar(stat = "identity", color = "blue", fill = c("red", "blue"))
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_bar(stat = "identity", color = "blue", fill = "gray")
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_bar(stat = "identity", color = "white", fill = "gray")
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_bar(stat = "identity", color = "white", fill = "black")
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_bar(stat = "identity", color = "white", fill = "darkgray")
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_bar(stat = "identity", color = "white", fill = "darkgray") +
geom_line(stat = "identity")
ggplot(ChickWeight,
aes(Time, weight)) +
geom_bar(stat = "mean", color = "white", fill = "darkgray") +
geom_line(stat = "identity")
ggplot(ChickWeight,
aes(Time, weight)) +
geom_bar(stat = "mean", color = "white", fill = "darkgray") +
geom_line(stat = "identity")
ggplot(ChickWeight,
aes(Time, weight)) +
geom_bar(stat = mean, color = "white", fill = "darkgray") +
geom_line(stat = "identity")
ggplot(ChickWeight,
aes(Time, weight)) +
geom_bar(stat = mean, color = "white", fill = "darkgray") +
geom_line(stat = "identity")
ggplot(ChickWeight,
aes(Time, weight)) +
geom_bar(stat = mean, color = "white")
library(ggplot2)
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_line(stat = "identity", color = "blue")
library(ggplot2)
ggplot(time_agg,
aes(Time, weight.mean, size= 2)) +
geom_line(stat = "identity", color = "blue")
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_line(stat = "identity", color = "blue", size = 2)
library(ggplot2)
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_line(stat = "identity",
color = "blue",
size = 2) +
labs(x = "blah")
library(ggplot2)
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_line(stat = "identity",
color = "blue",
size = 2) +
labs(x = "Time", y = "Mean Weight")
library(ggplot2)
ggplot(time_agg,
aes(Time, weight.mean)) +
geom_line(stat = "identity",
color = "blue",
size = 2) +
labs(x = "Time", y = "Mean Weight", title = "My Cool Plot")
head(ChickWeight)
library(tidyr)
library(dplyr)
?spread
library(dplyr)
stocks <- data.frame(
time = as.Date('2009-01-01') + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
stocksm <- stocks %>% gather(stock, price, -time)
head(stocksm)
x <- stocksm %>% spread(stock, price)
x
library(tidyr)
library(dplyr)
stocks <- data.frame(
time = as.Date('2009-01-01') + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
stocksm <- stocks %>% gather(stock, price, -time)
stocksm
stocksm$new <- rnorm(nrow(stocksm))
library(tidyr)
library(dplyr)
stocks <- data.frame(
time = as.Date('2009-01-01') + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
stocksm <- stocks %>% gather(stock, price, -time)
stocksm$new <- rnorm(nrow(stocksm))
x <- stocksm %>% spread(stock, price)
x
library(tidyr)
library(dplyr)
stocks <- data.frame(
time = as.Date('2009-01-01') + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
stocksm <- stocks %>% gather(stock, price, -time)
socksm
stocksm
stocksm %>% spread(stock, price)
stocks <- data.frame(
time = as.Date('2009-01-01') + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
stocks
stocks %>% gather(stock, price, -time)
stocks <- data.frame(
time = as.Date('2009-01-01') + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
stocksm <- stocks %>% gather(stock, price)
stocks <- data.frame(
time = as.Date('2009-01-01') + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
stocksm <- stocks %>% gather(stock, price, -time)
stocksm
stocks <- data.frame(
time = as.Date('2009-01-01') + 0:9,
X = rnorm(10, 0, 1),
Y = rnorm(10, 0, 2),
Z = rnorm(10, 0, 4)
)
stocks
stocks %>% gather(stock, price, -time)
head(ACTG175)
dim(ACTG175)
?ACTG175
hist(ACTG175$days)
hist(ACTG175$age, ACTG175$days)
plot(ACTG175$age, ACTG175$days)
head(ACTG175)
ACTG175$age_months <- ACTG175 %>% mutate(
age_months = age * 12
)
ACTG175$karnof_b <- ACTG175 %>%
mutate(
karnof_b = karnof / 100
)
ACTG175$karnof_b <- ACTG175 %>%
mutate(
age_months = age * 12,
karnof_b = karnof / 100
)
head(ACTG175)
ACTG175 <- ACTG175 %>%
arrange(age)
ACTG175
head(ACTG175 %>%
arrange(age))
ACTG175 <- ACTG175 %>%
arrange(age)
head(ACTG175)
library(dplyr)
library(speff2trial)
head(ACTG175 %>%
arrange(age))
ACTG175 <- ACTG175 %>%
arrange(age)
library(speff2trial)
library(dplyr)
head(ACTG175)
ACTG175 <- ACTG175 %>%
arrange(age)
head(ACTG175)
?arrange
ChickWeight <- ChickWeight %>% arrange(desc(Time), Diet)
head(ChickWEight)
head(ChickWeight)
ACTG175 <- ACTG175 %>%
arrange(age, desc(karnof), weight)
ACTG175 <- ACTG175 %>%
arrange(age, desc(karnof), wtkg)
head(ACTG175)
with(ACTG175, hist(karnof))
knitr::kable(head(ChickWeight))
library(dplyr)
ChickWeight %>%           # Start with the ChickWeight data
mutate(
Diet_name = case_when(
Diet == 1 ~ "fruit",
Diet == 2 ~ "vegetables",
Diet == 3 ~ "meat",
Diet == 4 ~ "grains"
)
)
?slice
devtools::install_github("therbootcamp/BaselRBootcamp2017", build_vignettes = TRUE)
library(BaselRBootcamp2017)
bootcamp.guide()
devtools::document()
devtools::install_github("therbootcamp/BaselRBootcamp2017", build_vignettes = TRUE)
bootcamp.guide()
library(BaselRBootcamp2017)
library(BaselRBootcamp2017)
bootcamp.guide()
devtools::install_github("therbootcamp/BaselRBootcamp2017", build_vignettes = TRUE)
bootcamp.guide()
head(ACTG175)
?ACTG175
ACTG175 <- ACTG175 %>%
rename(drugs, druguse)
ACTG175 %>%
rename(drugs, druguse)
ACTG175 %>% rename(symptom, new)
?rename
rename(ACTG175, treat, treatment)
rename(ACTG175, treat  treatment)
rename(ACTG175, treat = treatment)
rename(ACTG175, treatment = treat)
ACTG175 <- ACTG175 %>%
rename(drug, druguse)
head(ACTG175)
ACTG175 <- ACTG175 %>%
rename(drugs = druguse)
head(iris)
ACTG175 <- ACTG175 %>%
rename(druguse = drugs)
head(ACTG175)
ACTG175 <- ACTG175 %>%
rename(druguse = drugs,
treatment = arms)
library(speff2trial)
ACTG175 <- ACTG175 %>%
rename(druguse = drugs,
treatment = arms)
head(ACTG175)
library(speff2trial)
ACTG175 <- ACTG175 %>%
rename(druguse = drugs,
treatment = arms)
head(ACTG175)
library(speff2trial)
head(ACTG175)
# Chunk 1
knitr::opts_chunk$set(comment=NA, fig.width=6, fig.height=6, echo = FALSE)
# Chunk 2
library(dplyr)
# Chunk 3
library(speff2trial)
# Chunk 4
trialact <- ACTG175
# Chunk 5
head(trialact)
# Chunk 6
trialact <- trialact %>% mutate(
age_months = age * 12
)
# Chunk 7
trialact <- trialact %>%
mutate(
karnof_b = karnof / 100
)
# Chunk 8
trialact <- trialact %>%
mutate(
age_months = age * 12,
karnof_b = karnof / 100
)
# Chunk 9
trialact <- trialact %>%
mutate(
sparrow = karnof / age + wtkg
)
# Chunk 10
trialact <- trialact %>%
arrange(age)
# Chunk 11
trialact <- trialact %>%
arrange(karnof, age)
# Chunk 13
trialact <- trialact %>%
arrange(age, desc(sparrow), wtkg)
trialact <- trialact %>%
rename(druguse = drugs,
treatment = arms)
head(trialact)
trialact <- trialact %>%
rename(druguse = drugs,
treatment = arms)
head(trialact)
trialact %>%
rename(druguse = drugs,
treatment = arms)
trialact %>%
group_by(arms) %>%
summarise(
age.mean = mean(age)
)
ChickWeight %>%
group_by(Diet) %>%
summarise(
weight.mean = mean(weight),
time.median = median(time)
)
ChickWeight %>%
group_by(Diet) %>%
summarise(
weight.mean = mean(weight),
time.median = median(Time)
)
ChickWeight %>%
group_by(Diet) %>%
summarise(
weight.mean = mean(weight),
time.median = median(Time),
n = n()
)
head(trialact)
?ACTG175
trialact %>%
group_by(arms) %>%
summarise(
age.mean = mean(age),
karnof.median = median(karnof)
)
trialact %>%
group_by(gender) %>%
summarise(
drug.percent = mean(drugs)
)
trialact %>%
group_by(gender) %>%
summarise(
drug.percent = mean(druguse)
)
trialact <- ACTG175
trialact %>%
group_by(gender) %>%
summarise(
drug.percent = mean(druguse)
)
rm(list = ls())
detach("package:speff2trial", unload=TRUE)
library("speff2trial", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
library(speff2trial)
trialact <- ACTG175
trialact %>%
group_by(gender) %>%
summarise(
drug.percent = mean(druguse)
)
head(trialact)
trialact %>%
group_by(gender) %>%
summarise(
drug.percent = mean(drugs)
)
head(trialact)
?ACTG175
trialact <- trialact %>%
mutate(
gender.char = case_when(
gender == 0 ~ "female",
gender == 1 ~ "male"
))
head(trialact)
trialact <- trialact %>%
mutate(
over50 = case_when(
age > 50 ~ 1,
age <= 50 ~ 0
)
)
head(trialact)
trialact <- trialact %>%
mutate(
gender.char = case_when(
gender == 0 ~ "female",
gender == 1 ~ "male"),
over50 = case_when(
age > 50 ~ 1,
age <= 50 ~ 0)
)
trialact
trialact %>%
group_by(gender, race) %>%
summarise(
age.mean = mean(age),
cd40.mean = mean(cd40)
)
head(ChickWeight)
chick <- ChickWeight   # Save a copy of the ChickWeight data as chick
# Add a new column
chick <- chick %>%
mutate(
weight.kg = weight / 1000  # Add new column of weight in kilograms
)
chick
head(trialact)
chick <- ChickWeight   # Save a copy of the ChickWeight data as chick
chick <- chick %>%
mutate(
weight.kg = weight / 1000,  # Add new column of weight in kilograms
time.week = Time / 7        # Add time.week as time in weeks
)
# sort rows by Diet and then weight
chick <- chick %>%
arrange(Diet, weight)
head(chick)
chick <- chick %>%
mutate(
diet.name = case_when(
Diet == 1 ~ "vegetables",
Diet == 2 ~ "fruit",
Diet == 3 ~ "candy"
Diet == 4 ~ "meat"
)
)
# -----------------------------------------------
# Examples of using dplyr on the ChickWeight data
# ------------------------------------------------
library(dplyr)         # Load dplyr
chick <- ChickWeight   # Save a copy of the ChickWeight data as chick
# Add columns with mutate()
chick <- chick %>%
mutate(
weight.kg = weight / 1000,  # Add new column of weight in kilograms
time.week = Time / 7        # Add time.week as time in weeks
)
# Sort rows with arrange()
chick <- chick %>%
arrange(Diet, weight)   # sort rows by Diet and then weight
# Recode variables with case_when()
chick <- chick %>%
mutate(
diet.name = case_when(
Diet == 1 ~ "vegetables",
Diet == 2 ~ "fruit",
Diet == 3 ~ "candy",
Diet == 4 ~ "meat"
)
)
head(chick)
chick %>%
group_by(Diet) %>%
summarise(
weight.mean = mean(weight),
weight.max = max(weight),
time.mean = mean(Time)
)
